section {
  padding-block: var(--block-gap);
  header {
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    max-width: 50rem;
    margin: auto;
    @include md-up {
      gap: 1.2rem;
    }
    @include lg-up {
      max-width: 90rem;
      gap: 1.6rem;
    }

    p {
      font-size: 1.4rem;
      @include md-up {
        font-size: 1.6rem;
      }
      @include lg-up {
        font-size: 1.8rem;
      }
    }
  }
}

.container {
  width: min(calc(100% - 4rem), 75rem);
  @include md-up {
    width: min(calc(100% - 4rem), 75.6rem);
  }
  @include lg-up {
    width: min(calc(100% - 4rem), 128.3rem);
  }
  margin: auto;
}

.flexColumn {
  display: flex;
  flex-direction: column;
  gap: 2rem; // Mobile gap first

  @include md-up {
    gap: 4rem;
  }
}

.btns-wrp {
  display: flex;
  justify-content: flex-start; // Mobile alignment first
  width: 100%;

  @include md-up {
    justify-content: center;
  }
}

.btn-item {
  display: flex;
  flex-direction: column;
  min-width: min(100%, 35rem); // Mobile width first
  text-align: center;
  justify-self: flex-start;
  gap: 0.6rem;
  transition: 0.3s opacity ease;
  &:hover {
    opacity: 0.9;
  }
  @include lg-up {
    min-width: min(100%, 38rem);
  }
  span {
    font-size: 1.4rem;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    margin-top: 0.3rem;
    color: var(--Dark-Grey);
  }

  &.center-btn {
    justify-self: center;
    align-self: center;
  }
}

.btn {
  // Base button styles
  display: inline-block;
  font-family: var(--font-text);
  font-size: 1.6rem;
  font-weight: 700;
  line-height: 1.3;
  text-align: center;
  text-decoration: none;
  padding: 1.4rem 6rem;
  border: none;
  border-radius: 100px;
  cursor: pointer;
  width: 100%;
  @include transition(all 0.3s ease);

  @include md-up {
    width: 36rem;
  }

  @include lg-up {
    width: 38rem;
    font-size: 1.8rem;
  }

  // Primary button (Blue background)
  &--primary {
    background-color: var(--Blue);
    color: var(--Cream);

    @include hover {
      background-color: darken(#1A46DA, 8%);
      @include transform(translateY(-2px));
      @include box-shadow(0 4px 12px rgba(26, 70, 218, 0.3));
    }

    &:active {
      @include transform(translateY(0));
    }
  }

  // Secondary button (Yellow background)
  &--secondary {
    background-color: var(--Yellow);
    color: var(--Blue);

    @include hover {
      background-color: darken(#FFD66E, 8%);
      @include transform(translateY(-2px));
      @include box-shadow(0 4px 12px rgba(255, 214, 110, 0.4));
    }

    &:active {
      @include transform(translateY(0));
    }
  }

  // Small button variant
  &--small {
    font-size: 1.4rem;
    padding: 1.2rem 4rem;
  }
}

details {
  summary {
    padding: 1.2rem 6.4rem 1.2rem 0;
    font-size: 0;
    background-color: white;
    border-bottom: 1px solid var(--Light-Grey, #e0e0e0);
    @include md-up {
      padding: 2rem 8rem 2rem 0;
    }
    @include lg-up {
      padding: 2rem 8rem 2rem 0;
    }
    &::marker {
      display: none;
    }
  }

  .user-profile{
    cursor: pointer;
    position: relative;

    font-size: 1.8rem;
    line-height: 120%;
    font-weight: 700;
    color: var(--Rich-Black);
    font-family: var(--font-text);
    @include lg-up {
      font-size: 2rem;
    }
    line-height: 1; // Mobile line height first
    &::marker {
      font-size: 0;
    }
    .icon {
      width: 2.4rem;
      height: 2.4rem;
      background-color: transparent;
      display: inline-block;
      position: absolute;
      top: 0;
      right: 0;
      background-image: url("data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0.5' y='0.5' width='35' height='35' rx='17.5' stroke='%231A46DA'/%3E%3Cpath d='M9.96896 14.4693C10.0386 14.3995 10.1213 14.3442 10.2124 14.3065C10.3034 14.2687 10.401 14.2493 10.4996 14.2493C10.5981 14.2493 10.6957 14.2687 10.7868 14.3065C10.8778 14.3442 10.9606 14.3995 11.0302 14.4693L17.9996 21.4396L24.969 14.4693C25.1097 14.3285 25.3006 14.2495 25.4996 14.2495C25.6986 14.2495 25.8895 14.3285 26.0302 14.4693C26.1709 14.61 26.25 14.8009 26.25 14.9999C26.25 15.1989 26.1709 15.3898 26.0302 15.5305L18.5302 23.0305C18.4606 23.1003 18.3778 23.1556 18.2868 23.1933C18.1957 23.2311 18.0981 23.2505 17.9996 23.2505C17.901 23.2505 17.8034 23.2311 17.7124 23.1933C17.6213 23.1556 17.5386 23.1003 17.469 23.0305L9.96896 15.5305C9.89923 15.4609 9.84391 15.3782 9.80616 15.2871C9.76842 15.1961 9.74899 15.0985 9.74899 14.9999C9.74899 14.9013 9.76842 14.8037 9.80616 14.7127C9.84391 14.6216 9.89923 14.5389 9.96896 14.4693Z' fill='%231A46DA'/%3E%3C/svg%3E%0A");
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      @include lg-up {
        width: 3.6rem;
        height: 3.6rem;
      }
    }
  }

  .accordion__answer {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    @include lg-up {
      gap: 2rem;
    }

    p,
    ul li,
    a {
      font-size: 1.8rem;
      line-height: 140%;
      color: black;
      @include lg-up {
        font-size: 2rem;
      }
    }
    ul {
      list-style: disc;
      padding-left: 2rem;
    }
    .btn-item {
      align-self: flex-start;
    }
  }

  &.accordion__item {
    transition: 0.3s all ease;
    background-color: white;
    border-bottom: solid 1px var(--Deep-Blue);
  }

  &.accordion__item[open] {
    .accordion__answer {
      padding: 1.2rem 6.4rem 1rem 0;
      @include md-up {
        padding: 1.2rem 8rem 1.2rem 0;
      }
      @include lg-up {
        padding: 1.2rem 8rem 1.3rem 0;
      }
    }

    .user-profile{
      &::after {
        transform: rotate(180deg);
      }
      &::before {
        transform-origin: center;
        transform: rotate(0);
      }
    }
  }
}

// FAQ Specific Overrides (for rn-faq section)
.rn-faq {
  details.accordion__item {
    background-color: transparent;
    border-bottom: 1px solid var(--Deep-Blue);
    
    &:last-child {
      border-bottom: none;
    }
  }

  .user-profile{
    padding: 0;
    background-color: transparent;
    border: none;
    
    // Hide the old ::before and ::after for FAQ
    &::before,
    &::after {
      display: none;
    }
  }

  details.accordion__item[open] {
    .accordion__answer {
      padding: 0;
    }
  }
}
